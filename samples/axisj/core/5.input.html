<article class="cover">
	<h1 data-menu-item="ui-input">AXInput</h1>
</article>

<article class="content">
	<h2 data-menu-item="ui-axinput-number">AXInput.number</h2>
	<p>input 태그에 아이디를 부여하고 bind 구문을 이용하여 다양한 UI컴포넌트를 사용할 수 있습니다. (주의 할점은 아이디가 부여되지 않는 엘리먼트에는 스크립트 바인딩이 제대로 되지 않을 수 있습니다. 또 하나 아이디는 반드시 페이지에서 유일한 값이 어야 겠지요)</p>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W60" id="ax-input-number" />
	<input type="text" name="x" class="AXInput W60" id="ax-input-number-1" />
</div>
<script>
	(function(){
		$("#ax-input-number").bindNumber().val(100); // 마지막에 val은 제이쿼리 메소드 입니다. 이렇게 체이닝이 되어서 보다 심플하지요
		$("#ax-input-number-1").bindNumber({min:0, max:110});
		// 최소, 최대 범위 설정
	})();
</script>
</pre>
</article>


<article class="content">
	<h2 data-menu-item="ui-axinput-checkbox">AXInput.checkbox</h2>
<pre>
<div class="tag-result" id="ax-input-checkbox">
	<label>
		<input type="checkbox" name="mycheck2" value="3" />
		Javascript
	</label>
	<label>
		<input type="checkbox" name="mycheck2" value="2" />
		Javascript
	</label>

	<label>
		<input type="radio" name="mycheck3" value="3" />
		Javascript
	</label>
	<label>
		<input type="radio" name="mycheck3" value="2" />
		Javascript
	</label>
</div>
<script>
	(function(){
		$('#ax-input-checkbox').find('input[type=checkbox]').bindChecked();
		$('#ax-input-checkbox').find('input[type=radio]').bindChecked();
	})();
</script>
</pre>
	<p>
		체크박스와 라디오박스는 각각의 브라우저마다 저마다 다른 랜더링으로 웹 개발자들을 괴롭히고 있습니다.
		여러가지 방법으로 개선시킬 수 있겠지만 모든 브라우저를 커버 하기엔 역부족입니다.
		역시나 자바스크립트의 도움을 받아서 해결 하는 것이 최선 입니다.<br/>
		AXISJ의 <code>.bindChecked()</code> 를 이용하면 모든 브라우저에도 동일한 디자인 적용이 가능합니다.
	</p>
</article>



<!-- switch -->
<article class="content">
	<h2 data-menu-item="ui-axinput-switch">AXInput.switch</h2>
	<p>
		Input태그에 <code>bindSwitch</code> 메소드를 이용하면 스위치 UI로 사용할 수 있습니다. 스위치 UI는 Input value로 미리 정의한 스위치의 on, off값으로 사용자의 입력을 제한하고
		사용자에게 편안함을 제공합니다.
		스위치 UI가 bind된 개체를 스크립트로 제어 할수도 있습니다. <code>.setValueInput()</code> 메소드를 이용하면 개체의 상태를 스크립트로 제어 할 수 있습니다.
	</p>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W50" id="ax-input-switch" value="PM" />
	<input type="text" name="x" class="AXInput W70" id="ax-input-switch-1" />
	<div class="DH10"></div>
	<div>
		<button class="AXButton" onclick="$('#ax-input-switch').setValueInput('AM');">AM</button>
		<button class="AXButton" onclick="$('#ax-input-switch').setValueInput('PM');">PM</button>
		<button class="AXButton" onclick="$('#ax-input-switch').bindInputDisabled();">toggle Disabled</button>
	</div>
</div>
<script>
(function(){
	$("#ax-input-switch").bindSwitch({
		off:"AM", // off 값을 정의합니다.
		on:"PM", // on 값을 정의합니다.
		onchange:function(){
			toast.push(Object.toJSON(this)); // 스위치 상태값이 변경 될 때 이벤트
		}
	});

	$("#ax-input-switch-1").bindSwitch({
		off:"UP",
		on:"DOWN",
		onchange:function(){
			toast.push(Object.toJSON(this));
		}
	});
})();
</script>
</pre>
</article>





<!-- segment -->
<article class="content">
	<h2 data-menu-item="ui-axinput-segment">AXInput.segment</h2>
	<p>
		세그먼트 UI는 Input태그값을 <code>bindSegment</code> 속성에 정의한 options 리스트의 값중에 하나가 입력되도록 제한합니다.
		경우에 따라서는 <code>onchange</code>함수를 활용하여 애플케이션의 화면제어를 하는데 활용 하기도 합니다.
		세크먼트 역시 <code>setValueInput</code>를 이용하여 스크립트로 제어 할 수 있습니다.
	</p>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W150" id="ax-input-segment" value="1" />
	<div class="DH10"></div>
	<div>
		<button class="AXButton" onclick="$('#ax-input-segment').setValueInput('0');">왼쪽</button>
		<button class="AXButton" onclick="$('#ax-input-segment').setValueInput('1');">가운데</button>
		<button class="AXButton" onclick="$('#ax-input-segment').setValueInput('2');">오른쪽</button>
	</div>
</div>
<script>
	(function(){
		$("#ax-input-segment").bindSegment({
			options:[
				{optionValue:0, optionText:"왼쪽"},
				{optionValue:1, optionText:"가운데"},
				{optionValue:2, optionText:"오른쪽"}
			],
			onchange:function(){
				//this.targetID, this.options, this.selectedIndex, this.selectedOption
				toast.push(Object.toJSON(this));
			}
		});
	})();
</script>
</pre>
</article>





<!-- slider -->
<article class="content">
	<div class="callout warning">
		<h4>Tip</h4>
		<p>
			AXInput UI들은 bind되는 Input태그의 크기에 따라
			UI의 크기가 결정됩니다.
		</p>
	</div>


	<h2 data-menu-item="ui-axinput-slider">AXInput.slider</h2>
	<p>
		슬라이더 UI는 입력받을 숫자의 범위가 정해진 값을 다루는데 적합한 UI 입니다.
		<code>bindTwinSlider</code>는 속성 separator값으로 분리되는 범위값을 입력받는데 용이 합니다.
	</p>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W200" id="ax-input-slider" value="50" />
	<div class="DH10"></div>
	<div id="ax-input-slider-display"></div>
	<div class="DH20"></div>

	<input type="text" name="x" class="AXInput W300" id="ax-input-slider-twin" value="200~600" />
	<div class="DH10"></div>
	<div id="ax-input-slider-twin-display"></div>
</div>
<script>
	(function(){
		var display = $("#ax-input-slider-display"), display_twin = $("#ax-input-slider-twin-display");
		$("#ax-input-slider").bindSlider({
			min:0, max:100, snap:10,
			unit:"%",
			onchange: function(){
				display.html(Object.toJSON(this));
			}
		});
		// 범위를 입력받는데 최적화된 bindTwinSlider
		$("#ax-input-slider-twin").bindTwinSlider({
			min:0, max:1000, separator:"~", unit:"", snap:100,
			onchange: function(){
				display_twin.html(Object.toJSON(this));
			}
		});
	})();
</script>
</pre>
</article>





<!-- selector -->
<article class="content">
	<h2 data-menu-item="ui-axinput-selector">AXInput.selector</h2>
	<p>
		셀렉터 UI는 Input박스에 사용자가 타이핑한 검색어를 미리 정의된 또는 서버의 검색결과에 따라 정의된 Options 의 아이템을 선택하게 하거나 옵션없는 사용자 값을 입력받는데 사용합니다.
		웹 애플리케이션입장에서는 사용자의 입력을 정해진 옵션안에서 제한 하거나 경우에 따라 자유로운 입력이 가능하게 하므로 많은 애플리케이션에서 사용되고 있다.
		예제에서는 미리정의된 Options로 셀렉터를 설정하는 방법과 AJAX통신결과에 따른 Options 설정 방법을 소개합니다.
	</p>

	<h3>Script 지정방식</h3>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W200" id="ax-input-selector" value="" />
</div>
<script>
	(function(){
		$("#ax-input-selector").bindSelector({
			appendable:true, // options 에 없는 값 입력 허용 여부
			options:[
				{optionValue:1, optionText:"Seoul"},
				{optionValue:2, optionText:"대구"},
				{optionValue:3, optionText:"대전"},
				{optionValue:4, optionText:"(창원"},
				{optionValue:5, optionText:"[마산"},
				{optionValue:6, optionText:"구례"},
				{optionValue:7, optionText:"제주도"},
				{optionValue:8, optionText:"전주"},
				{optionValue:4, optionText:"창원"},
				{optionValue:5, optionText:"마산"},
				{optionValue:6, optionText:"구례"},
				{optionValue:7, optionText:"제주도"},
				{optionValue:8, optionText:"전주"},
				{optionValue:9, optionText:"Gwangju"}
			],
			onchange: function(){
				console.log(this);
			}
		});
	})();
</script>
</pre>

	<div class="DH20"></div>
	<h3>AJAX 지정방식</h3>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W200" id="ax-input-selector-ajax" value="" />
</div>
<script>
	(function(){
		$("#ax-input-selector-ajax").bindSelector({
			direction: "bottom", // selector 박스가 열리는 방향
			appendable: false,
			ajaxUrl: "data/selectorData.txt",
			ajaxPars: "",
			optionPrintLength: "all", // options 아이템 출력갯수 제한 "all"이면 전체 출력
			onchange: function(){
				console.log(this);
			}
		});
	})();
</script>
</pre>

	<div class="DH10"></div>
	<h4>data/selectorData.txt</h4>
<pre>$noscript$
{
	result:"ok",
	options:[
		{optionValue:1, optionText:" Seoul", desc:"부가설명글"},
		{optionValue:2, optionText:"대구"},
		{optionValue:3, optionText:"대전", optionDesc:"부가설명글"},
		{optionValue:4, optionText:"창원"},
		{optionValue:5, optionText:"마산"},
		{optionValue:6, optionText:"구례"},
		{optionValue:7, optionText:"제주도"},
		{optionValue:8, optionText:"전주"},
		{optionValue:4, optionText:"창원"},
		{optionValue:5, optionText:"마산"},
		{optionValue:6, optionText:"구례"},
		{optionValue:7, optionText:"제주도"},
		{optionValue:8, optionText:"전주"},
		{optionValue:9, optionText:"Gwangju"}
	],
	etcs:""
}
</pre>

	<p>
		<code>data/selectorData.txt</code> 에서 리턴하는 JSON을 셀렉터 UI가 받아서 셀렉터의 Options로 처리 하게 됩니다. 여기서 하나더 들어가면 셀렉터 Input태그에 타이핑을 하는 순간
		<code>콘솔 > 네트워크</code>를 확인화면 사용자가 타이핑을 하다 잠심 대기하는 순간 서버로 결과를 요청하게 됩니다. 이때 <code>data/selectorData.txt</code>의 파라미터로 Input의 Name을
		파라미터의 키이름으로 하고 입력된 문자열을 파라미터 키 값으로 하여 전송 되게 됩니다.
	</p>

	<p>
		필자는 이런 방식으로 해두면 셀렉터 UI가 모두 완성이 될거라 생각했었다. 하지만 오산 이었다.
		그 잘못의 첫번째는 서버의 응답조건을 모두 획일화 할 수 없다는 점 이었고.
		두번째는 AJAX통신의 요청 방식이 단순하지 않다는 점 이었다. 그런 이유로 두가지 상황에 대한 대안을 마련하게 되었다.
	</p>



	<div class="DH20"></div>
	<h3>Options 키 값 정의</h3>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W200" id="ax-input-selector-02" value="" />
</div>
<script>
	(function(){
		$("#ax-input-selector-02").bindSelector({
			// reserveKeys의 등장 UI 내부에서 사용될 키를 변경 할 수 있게 되었다.
			reserveKeys: {
				options: "list",
				optionValue: "CD",
				optionText: "NM"
			},
			direction: "bottom", // selector 박스가 열리는 방향
			ajaxUrl: "data/selectorData-02.txt",
			ajaxPars: "",
			onchange: function(){
				console.log(this);
			}
		});
	})();
</script>
</pre>



	<div class="DH20"></div>
	<h3>Custom search result</h3>
<pre>
<div class="tag-result">
	<input type="text" name="x" class="AXInput W200" id="ax-input-selector-03" value="" />
</div>
<script>
	(function(){
		$("#ax-input-selector-03").bindSelector({
			reserveKeys: {
				optionValue: "CD",
				optionText: "NM"
			},
			onsearch : function(objID, objVal, callBack) { // {Function} - 값 변경 이벤트 콜백함수 (optional)
				// return options; 로 결과를 즉시응답처리 할 수도 있겠다.
				setTimeout(function(){
					callBack({
						options:[
							{CD:1, NM:"Seoul", desc:"ABCD"},
							{CD:2, NM:"대구"},
							{CD:3, NM:"대전"},
							{CD:4, NM:"(창원"},
							{CD:5, NM:"[마산"},
							{CD:6, NM:"구례"},
							{CD:7, NM:"제주도"},
							{CD:8, NM:"전주"},
							{CD:4, NM:"창원"},
							{CD:5, NM:"마산"},
							{CD:6, NM:"구례"},
							{CD:7, NM:"제주도"},
							{CD:8, NM:"전주"},
							{CD:9, NM:"Gwangju"}
						]
					});
				}, 500);
			}
		});
	})();
</script>
</pre>



</article>
